(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2845],{69804:function(e,t,n){"use strict";var r,o=n(2784);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}t.Z=function(e){return o.createElement("svg",l({width:14,height:14,xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{d:"M5 7.8h4M1.4 1.4h11.2v3.2H1.4V1.4zm.8 3.2v7.2a.8.8 0 00.8.8h8a.8.8 0 00.8-.8V4.6H2.2z",stroke:"currentColor",fill:"none"})))}},83140:function(e,t,n){"use strict";var r,o,l=n(2784);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}t.Z=function(e){return l.createElement("svg",a({width:16,height:16,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=l.createElement("rect",{x:.5,y:.5,width:15,height:15,rx:2.5,fill:"none",stroke:"currentColor",strokeWidth:1.2})),o||(o=l.createElement("path",{d:"M7 5h4v4m-6 2l6-6",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})))}},73009:function(e,t,n){"use strict";var r,o=n(2784);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}t.Z=function(e){return o.createElement("svg",l({width:15,height:15,viewBox:"0 0 15 15",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{d:"M4.5 6.5L1.328 9.672a2.828 2.828 0 104 4L8.5 10.5m2-2l3.172-3.172a2.829 2.829 0 00-4-4L6.5 4.5m-2 6l6-6",fill:"none",stroke:"currentColor"})))}},56823:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(94776),o=n.n(r),l=n(2784),a=n(17003),i=n(9605),s=n(14898),c=((0,n(73254).c)("workspace-delete"),n(95879));function u(e,t,n,r,o,l,a){try{var i=e[l](a),s=i.value}catch(c){return void n(c)}i.done?t(s):Promise.resolve(s).then(r,o)}var d=function(){var e,t=(e=o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.post("workspace/delete",t,{responseType:"text"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var l=e.apply(t,n);function a(e){u(l,r,o,a,i,"next",e)}function i(e){u(l,r,o,a,i,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),f=d,v=n(94764);function h(e,t,n,r,o,l,a){try{var i=e[l](a),s=i.value}catch(c){return void n(c)}i.done?t(s):Promise.resolve(s).then(r,o)}var p=function(){var e=(0,i.Z)(),t=(0,s.II)(),n=(0,l.useCallback)(function(){var n,r=(n=o().mark((function n(r){var l;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t&&r){n.next=3;break}return console.error("Missing userId or workspaceId"),n.abrupt("return");case 3:return l=(0,v.x0)(),e.loading("Deleting file ...",{id:l}),n.prev=5,n.next=8,f({workspaceId:r});case 8:e.success("File deleted successfully",{id:l}),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(5),console.error(n.t0),e.error("File deletion failed",{id:l});case 15:case"end":return n.stop()}}),n,null,[[5,11]])})),function(){var e=this,t=arguments;return new Promise((function(r,o){var l=n.apply(e,t);function a(e){h(l,r,o,a,i,"next",e)}function i(e){h(l,r,o,a,i,"throw",e)}a(void 0)}))});return function(e){return r.apply(this,arguments)}}(),[t]),r=(0,a.Z)(n);return{delete:r.execute,isLoading:r.loading}}},25919:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var r=n(52322),o=n(2784),l=n(68732),a=n(35795),i=n(87622),s=n.n(i),c=n(96299),u=n(20810),d=n(39739),f=n(35120),v=n(12335),h=n(50046),p=n(66924),m=n(21043);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,l=[],a=!0,i=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);a=!0);}catch(s){i=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(i)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=n(83227),w=n.n(y),_=n(35537),x=function(e){var t=e.teamId,n=e.onSelect,l=e.searchQuery,a=e.changingTeam,i=e.currentFolderId,g=e.selectedFolderId,y=function(e,t){var n=(0,o.useState)(void 0),r=n[0],l=n[1],a=(0,u.m)((function(e){return e.pipe((0,v.w)((function(e){var t=b(e,2),n=t[0],r=t[1];return n?(0,h.Z)(n,r):(0,f.of)(void 0)})))}),[e,t]);(0,d.m)(a,l,p.Tb);var i=(0,o.useMemo)((function(){return r?(0,m.Hz)(r):{}}),[r]),s=(0,o.useCallback)((function(){return(0,m.am)(i)}),[i]);return{folders:r,folderTree:i,getAllFolderPaths:s}}(t),x=y.folders,j=y.getAllFolderPaths,C=((0,o.useMemo)((function(){if(x)return s()(x,"id")}),[x]),!l||!i&&!a);return(0,r.jsxs)("div",{className:w().folderList,children:[C&&(0,r.jsx)(_.i,{name:"Unsorted",onClick:function(){return n(null)},selected:null===g,disabled:!i&&!a}),j().map((function(e){var t=e[e.length-1],o=e.reduce((function(e,t){return"".concat(e,"/").concat(t.name||c.Yp)}),"");return l&&!o.toLowerCase().includes(l.toLowerCase())?null:(0,r.jsx)(_.i,{name:o,onClick:function(){return n(t.id)},disabled:t.id===i,selected:t.id===g},t.id)})).filter(Boolean)]})},j=n(54631),C=n(49892),M=n(3559),O=n(67612),k=n(53822),F=n(72342),I=n(59503),N=n.n(I),S=n(70367),P=n.n(S),Z=function(e){var t=e.children,n=e.style;return(0,r.jsx)("h3",{className:P().subtitle,style:n,children:t})},E=function(e){var t=e.children,n=e.style;return(0,r.jsx)("h6",{className:P().textNote,style:n,children:t})},T=n(19681),L=n(14113),A=n(83445),B=n(28058),z=n(49451),G=n.n(z);function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var V=function(e){var t=e.file,n=e.isOpen,i=e.onClose,s=U(e,["file","isOpen","onClose"]),c=(0,l.lh)()||[],u=(0,l.LP)(),d=(0,a.Z)(),f=(0,o.useState)(""),v=f[0],h=f[1],p=(0,A.Z)(),m=p.isOpen,g=p.onToggle,b=(0,o.useState)(null!==u&&void 0!==u?u:""),y=b[0],w=b[1],_=(0,o.useState)(void 0),I=_[0],S=_[1],P=(0,o.useCallback)((function(e){return h(e)}),[]);(0,o.useEffect)((function(){S(void 0)}),[y,u]);var z=(0,o.useCallback)((function(){y&&void 0!==I&&d({onClose:i,file:t,eventSource:"modal",folderId:I,teamId:y})}),[t,y,d,i,I]),V=(0,o.useCallback)((function(){S(null),null===i||void 0===i||i()}),[i]),D=(0,o.useCallback)((function(e){S(e)}),[]),H=(0,r.jsxs)("div",{className:G().buttonGroup,children:[(0,r.jsx)(M.ZP,{variant:M.ZP.Variants.REVERSED,onClick:V,className:G().button,children:"Cancel"}),(0,r.jsx)(M.ZP,{onClick:z,className:G().button,disabled:void 0===I,children:"Move File"})]});return(0,r.jsx)(F.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){J(e,t,n[t])}))}return e}({isOpen:n,title:"Move File",onClose:V},s,{className:(0,B.Z)(G().container,m&&G().expanded),children:(0,r.jsxs)("div",{className:G().body,children:[(0,r.jsx)("div",{className:G().left,children:(0,r.jsxs)("div",{className:(0,B.Z)(G().leftContent,m&&G().leftOpen),children:[(0,r.jsxs)(E,{style:{marginLeft:2},children:["Move ",(0,r.jsx)("strong",{children:t.title||C.SF})," to a new folder or\xa0",(0,r.jsx)("button",{className:G().teamSwitcherButton,onClick:g,children:"new team"})]}),(0,r.jsx)(L.Z,{autoFocus:!0,value:v,className:G().searchInput,placeholder:"Search folder name",onChange:function(e){return P(e.currentTarget.value)}}),(0,r.jsx)(x,{onSelect:D,teamId:y,searchQuery:v,selectedFolderId:I,changingTeam:y!==u,currentFolderId:t.teamId===y?t.folderId:void 0}),!m&&H]})}),m&&(0,r.jsxs)("div",{className:G().right,children:[(0,r.jsx)("div",{className:N().bg}),(0,r.jsxs)("div",{className:G().teamContainer,children:[(0,r.jsxs)("div",{className:G().teamContent,children:[(0,r.jsxs)(Z,{children:[(0,r.jsx)(k.J,{icon:j.Z}),"Transfer Team"]}),(0,r.jsx)(O.Lt,{toggleClassNames:{root:G().toggle,button:G().popupToggle},title:(0,r.jsx)(T.Ku,{teamId:y,showIsCurrent:u===y}),children:(0,r.jsx)(T.ZP,{teams:c,selectedTeamId:y,onSwitch:w})}),(0,r.jsx)(E,{style:{marginTop:15},children:"Move this file to another team. NOTE: some users may lose access."})]}),H]})]})]})}))},D=(0,o.memo)(V)},49451:function(e){e.exports={container:"MoveFileModal_container__d8Ozk",expanded:"MoveFileModal_expanded__TtIgq",searchInput:"MoveFileModal_searchInput__PLj1_",body:"MoveFileModal_body__pBevr",buttonGroup:"MoveFileModal_buttonGroup__oOTCb",button:"MoveFileModal_button__sazEP",left:"MoveFileModal_left__86cCO",right:"MoveFileModal_right__JiknZ",leftContent:"MoveFileModal_leftContent__mtKJG",leftOpen:"MoveFileModal_leftOpen__S2m9F",teamContainer:"MoveFileModal_teamContainer__GMmFs",popupToggle:"MoveFileModal_popupToggle___ch8e",toggle:"MoveFileModal_toggle__0vplI",teamSwitcherButton:"MoveFileModal_teamSwitcherButton__slAUl"}},70367:function(e){e.exports={textField:"NewComponents_textField__Ci_tU",subtitle:"NewComponents_subtitle__u_XcM",textNote:"NewComponents_textNote__JCwiy"}}}]);